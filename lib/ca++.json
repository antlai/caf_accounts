{
    "name" : "ca",
    "env" : {
	"keysDir": "process.env.KEYS_DIR||null",
	"publicKeyFile" : "process.env.PUBLIC_KEY_FILE||rsa_pub.pem.dummy",
	"privateKeyFile" : "process.env.PRIVATE_KEY_FILE||rsa_priv.pem.dummy"
    },
    "components" : [
        {
            "name": "security"
        },
        {
            "module": "caf_recaptcha#plug_ca",
            "name": "recaptcha",
            "description": "Manages a recaptcha validation service for a CA",
            "env" : {
                "maxRetries" : "$._.env.maxRetries",
                "retryDelay" : "$._.env.retryDelay"
            },
            "components" : [
                {
                    "module": "caf_recaptcha#proxy",
                    "name": "proxy",
                    "description": "Allows access to a recaptcha service",
                    "env" : {
                    }
                }
            ]
        },
        {
            "name": "handler",
            "components" : [
                {
                    "name": "props",
                    "env" : {
			"keysDir": "$._.env.keysDir",
			"privateKeyFile": "$._.env.privateKeyFile",
			"publicKeyFile" :  "$._.env.publicKeyFile",
                        "stateVersion" : "$._.env.stateVersion",
                        "testAccounts" : [
                            {
                                "username" : "foo",
                                "password" : "pleasechange"
                            }
                        ]
                    }
                }
            ]
        }
    ]
}
